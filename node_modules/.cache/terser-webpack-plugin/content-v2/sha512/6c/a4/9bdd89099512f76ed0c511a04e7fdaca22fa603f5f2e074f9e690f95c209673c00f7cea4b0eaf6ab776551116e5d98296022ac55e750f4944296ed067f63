{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"form\"],{ee98:function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticClass:\"crumbs\"},[a(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[a(\"el-breadcrumb-item\",[a(\"i\",{staticClass:\"el-icon-lx-calendar\"}),e._v(\" 预约\\n            \")]),a(\"el-breadcrumb-item\",[e._v(\"预约填写\")])],1)],1),a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"form-box\"},[a(\"el-form\",{ref:\"form\",attrs:{model:e.reservation,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"学员\"}},[a(\"el-input\",{attrs:{disabled:!0},model:{value:e.reservation.studentName,callback:function(t){e.$set(e.reservation,\"studentName\",t)},expression:\"reservation.studentName\"}})],1),a(\"el-form-item\",{attrs:{label:\"教练\"}},[a(\"el-input\",{attrs:{disabled:!0},model:{value:e.reservation.coachName,callback:function(t){e.$set(e.reservation,\"coachName\",t)},expression:\"reservation.coachName\"}})],1),a(\"el-form-item\",{attrs:{label:\"开始时间\"}},[a(\"el-col\",{attrs:{span:11}},[a(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{type:\"date\",placeholder:\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:e.reservation.startTime,callback:function(t){e.$set(e.reservation,\"startTime\",t)},expression:\"reservation.startTime\"}})],1),a(\"el-col\",{staticClass:\"line\",attrs:{span:2}},[e._v(\"-\")]),a(\"el-col\",{attrs:{span:11}},[a(\"el-time-picker\",{staticStyle:{width:\"100%\"},attrs:{placeholder:\"选择时间\"},model:{value:e.reservation.startTime,callback:function(t){e.$set(e.reservation,\"startTime\",t)},expression:\"reservation.startTime\"}})],1)],1),a(\"el-form-item\",{attrs:{label:\"结束时间\"}},[a(\"el-col\",{attrs:{span:11}},[a(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{type:\"date\",placeholder:\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:e.reservation.endTime,callback:function(t){e.$set(e.reservation,\"endTime\",t)},expression:\"reservation.endTime\"}})],1),a(\"el-col\",{staticClass:\"line\",attrs:{span:2}},[e._v(\"-\")]),a(\"el-col\",{attrs:{span:11}},[a(\"el-time-picker\",{staticStyle:{width:\"100%\"},attrs:{placeholder:\"选择时间\"},model:{value:e.reservation.endTime,callback:function(t){e.$set(e.reservation,\"endTime\",t)},expression:\"reservation.endTime\"}})],1)],1),a(\"el-form-item\",{attrs:{label:\"预约备注\"}},[a(\"el-input\",{attrs:{type:\"textarea\",rows:\"5\"},model:{value:e.reservation.remarks,callback:function(t){e.$set(e.reservation,\"remarks\",t)},expression:\"reservation.remarks\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onSubmit}},[e._v(\"点击预约\")]),a(\"el-button\",[e._v(\"取消\")])],1)],1)],1)])])},r=[],o=a(\"bc3a\"),n=a.n(o),l={name:\"baseform\",data:function(){return{reservation:{studentId:\"\",coachId:\"\",startTime:\"\",endTime:\"\",schedule:\"0\",remarks:\"\",studentName:\"\",coachName:\"\"}}},created:function(){this.getStudent()},methods:{onSubmit:function(){console.log(this.reservation);var e=this;this.$message.success(\"提交成功！\"),n.a.post(\"/api/student/reservation\",this.reservation).then((function(t){var a=t.data;e.$message.success(a.msg),e.$router.push(\"/table\")}))},getStudent:function(){console.log(localStorage.getItem(\"ms_id\"));var e=localStorage.getItem(\"ms_id\");console.log(e);var t=\"/api/student/student/pro/\"+e;console.log(t);var a=this;n.a.get(t).then((function(e){var t=e.data.data;a.reservation.studentId=t.id,a.reservation.studentName=t.username,a.reservation.coachId=t.coachId,console.log(a.reservation.studentName),console.log(a.reservation.coachId),console.log(\"====================\"),a.getCoach()})).catch((function(e){console.log(e)}))},getCoach:function(){var e=this;console.log(\"cccc\"+e.reservation.coachId);var t=\"/api/coach/coach/pro/\"+e.reservation.coachId;console.log(t),n.a.get(t).then((function(t){var a=t.data.data;e.reservation.coachName=a.username,console.log(e.reservation.coachName),console.log(e.reservation.studentName)})).catch((function(e){console.log(e)}))}}},i=l,c=a(\"2877\"),d=Object(c[\"a\"])(i,s,r,!1,null,null,null);t[\"default\"]=d.exports}}]);","extractedComments":[]}