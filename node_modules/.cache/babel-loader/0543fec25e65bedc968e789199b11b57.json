{"remainingRequest":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js!D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\doctor\\DoctorDashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\doctor\\DoctorDashboard.vue","mtime":1589085660140},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Schart from 'vue-schart';\nimport bus from \"../../common/bus\";\nimport axios from 'axios';\nexport default {\n  name: 'dashboard',\n  data: function data() {\n    return {\n      name: localStorage.getItem('ms_username'),\n      studentNum: '无学员',\n      systemMsg: '无信息',\n      studentReservation: '无预约',\n      carNum: '0',\n      ms_id: '',\n      myInfo: {}\n    };\n  },\n  components: {\n    Schart: Schart\n  },\n  computed: {\n    role: function role() {\n      return '认证教练';\n    }\n  },\n  created: function created() {\n    this.ms_id = localStorage.getItem('ms_id');\n    this.queryCarNum();\n    this.queryStudentNum();\n    this.queryStudentReservation();\n    this.querySystemMsg();\n    this.queryMyInfo();\n  },\n  // activated() {\n  //     this.handleListener();\n  // },\n  // deactivated() {\n  //     window.removeEventListener('resize', this.renderChart);\n  //     bus.$off('collapse', this.handleBus);\n  // },\n  methods: {\n    changeDate: function changeDate() {\n      var now = new Date().getTime();\n      this.data.forEach(function (item, index) {\n        var date = new Date(now - (6 - index) * 86400000);\n        item.name = \"\".concat(date.getFullYear(), \"/\").concat(date.getMonth() + 1, \"/\").concat(date.getDate());\n      });\n    },\n    editMyInfo: function editMyInfo() {\n      this.$router.push('/coachInfo');\n    },\n    queryStudentNum: function queryStudentNum() {\n      var path = '/api/patient/patient/count/' + this.ms_id;\n      var param = \"studentNum\";\n      this.query(path, param);\n    },\n    queryStudentReservation: function queryStudentReservation() {\n      var path = '/api/patient/reservation/count/' + this.ms_id;\n      var param = \"studentReservation\";\n      this.query(path, param);\n    },\n    querySystemMsg: function querySystemMsg() {\n      var path = '/api/patient/evaluation/count/' + this.ms_id;\n      var param = \"systemMsg\";\n      this.query(path, param);\n    },\n    queryCarNum: function queryCarNum() {\n      var path = '/api/doctor/car/count/' + this.ms_id;\n      var param = \"carNum\";\n      this.query(path, param);\n    },\n    queryMyInfo: function queryMyInfo() {\n      var path = '/api/doctor/doctor/pro/' + this.ms_id;\n      var param = \"myInfo\";\n      this.query(path, param);\n    },\n    //封装查询方法\n    query: function query(path, params) {\n      var _this = this;\n\n      axios.get(path).then(function (res) {\n        var data = res.data.data;\n        console.log(params + data);\n\n        if (params === 'studentNum') {\n          _this.studentNum = data;\n        } else if (params === 'systemMsg') {\n          _this.systemMsg = data;\n        } else if (params === 'carNum') {\n          _this.carNum = data;\n        } else if (params === 'studentReservation') {\n          _this.studentReservation = data;\n        } else if (params === 'myInfo') {\n          _this.myInfo = data;\n        }\n\n        params = res.data.data;\n        console.log(res.data.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // handleListener() {\n    //     bus.$on('collapse', this.handleBus);\n    //     // 调用renderChart方法对图表进行重新渲染\n    //     window.addEventListener('resize', this.renderChart);\n    // },\n    // handleBus(msg) {\n    //     setTimeout(() => {\n    //         this.renderChart();\n    //     }, 200);\n    // },\n    // renderChart() {\n    //     this.$refs.bar.renderChart();\n    //     this.$refs.line.renderChart();\n    // }\n\n  }\n};",{"version":3,"sources":["DoctorDashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-card shadow=\"hover\" class=\"mgb20\" >\r\n                    <div class=\"user-info\">\r\n                        <img src=\"../../../assets/img/img.jpg\" class=\"user-avator\" alt />\r\n                        <div class=\"user-info-cont\">\r\n                            <div class=\"user-info-name\">\r\n                                <span>{{name}}</span>\r\n                                <span style=\"padding-left: 20px\"><i class=\"el-icon-edit\" type=\"primary\" @click=\"editMyInfo\" style=\"font-size: 24px;color: #67C23A;\"></i></span>\r\n                            </div>\r\n                            <div style=\"color: #20a0ff\">{{role}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        性别：\r\n                        <span>{{myInfo.sex}}</span>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        报价：\r\n                        <span>{{myInfo.price}}</span>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        联系电话：\r\n                        <span>{{myInfo.phone}}</span>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        电子邮箱：\r\n                        <span>{{myInfo.email}}</span>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        地址：\r\n                        <span>{{myInfo.address}}</span>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <el-row :gutter=\"20\" class=\"mgb20\">\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-lx-people grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{studentNum}}</div>\r\n                                    <div>学员数量</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-lx-notice grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{systemMsg}}</div>\r\n                                    <div>系统消息</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-3\">\r\n                                <i class=\"el-icon-phone-outline grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{studentReservation}}</div>\r\n                                    <div>预约总数</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-truck grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{carNum}}</div>\r\n                                    <div>拥有车辆</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-plus grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div>添加新模块</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Schart from 'vue-schart';\r\nimport bus from '../../common/bus';\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'dashboard',\r\n    data() {\r\n        return {\r\n            name: localStorage.getItem('ms_username'),\r\n            studentNum: '无学员',\r\n            systemMsg: '无信息',\r\n            studentReservation: '无预约',\r\n            carNum: '0',\r\n            ms_id: '',\r\n            myInfo: {}\r\n        };\r\n    },\r\n    components: {\r\n        Schart\r\n    },\r\n    computed: {\r\n        role() {\r\n            return '认证教练';\r\n        }\r\n    },\r\n    created() {\r\n        this.ms_id = localStorage.getItem('ms_id');\r\n        this.queryCarNum();\r\n        this.queryStudentNum();\r\n        this.queryStudentReservation();\r\n        this.querySystemMsg();\r\n        this.queryMyInfo();\r\n    },\r\n    // activated() {\r\n    //     this.handleListener();\r\n    // },\r\n    // deactivated() {\r\n    //     window.removeEventListener('resize', this.renderChart);\r\n    //     bus.$off('collapse', this.handleBus);\r\n    // },\r\n    methods: {\r\n        changeDate() {\r\n            const now = new Date().getTime();\r\n            this.data.forEach((item, index) => {\r\n                const date = new Date(now - (6 - index) * 86400000);\r\n                item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\r\n            });\r\n        },\r\n        editMyInfo(){\r\n            this.$router.push('/coachInfo');\r\n        },\r\n        queryStudentNum(){\r\n            let path = '/api/patient/patient/count/' + this.ms_id;\r\n            let param = \"studentNum\";\r\n            this.query(path,param);\r\n        },\r\n        queryStudentReservation(){\r\n            let path = '/api/patient/reservation/count/' + this.ms_id;\r\n            let param = \"studentReservation\";\r\n            this.query(path,param);\r\n        },\r\n        querySystemMsg(){\r\n            let path = '/api/patient/evaluation/count/' + this.ms_id;\r\n            let param = \"systemMsg\";\r\n            this.query(path,param);\r\n        },\r\n        queryCarNum(){\r\n            let path = '/api/doctor/car/count/' + this.ms_id;\r\n            let param = \"carNum\";\r\n            this.query(path,param);\r\n        },\r\n        queryMyInfo(){\r\n            let path = '/api/doctor/doctor/pro/' + this.ms_id;\r\n            let param = \"myInfo\";\r\n            this.query(path,param);\r\n        },\r\n        //封装查询方法\r\n        query(path,params){\r\n            let _this = this;\r\n            axios.get(path).then(function(res) {\r\n                let data = res.data.data;\r\n                console.log(params + data)\r\n                if (params === 'studentNum') {\r\n                    _this.studentNum = data;\r\n                }else if (params === 'systemMsg'){\r\n                    _this.systemMsg = data;\r\n                } else if (params === 'carNum'){\r\n                    _this.carNum = data;\r\n                }else if (params === 'studentReservation'){\r\n                    _this.studentReservation = data;\r\n                }else if (params === 'myInfo'){\r\n                    _this.myInfo = data;\r\n                }\r\n                params = res.data.data;\r\n                console.log(res.data.data)\r\n            }).catch(function(error) {\r\n                console.log(error)\r\n            })\r\n        }\r\n        // handleListener() {\r\n        //     bus.$on('collapse', this.handleBus);\r\n        //     // 调用renderChart方法对图表进行重新渲染\r\n        //     window.addEventListener('resize', this.renderChart);\r\n        // },\r\n        // handleBus(msg) {\r\n        //     setTimeout(() => {\r\n        //         this.renderChart();\r\n        //     }, 200);\r\n        // },\r\n        // renderChart() {\r\n        //     this.$refs.bar.renderChart();\r\n        //     this.$refs.line.renderChart();\r\n        // }\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .user-info-list {\r\n        padding:10px 0px;\r\n    }\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 100px;\r\n    height: 100px;\r\n    text-align: center;\r\n    line-height: 100px;\r\n    color: #fff;\r\n}\r\n\r\n.grid-con-1 .grid-con-icon {\r\n    background: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-1 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-2 .grid-con-icon {\r\n    background: rgb(100, 213, 114);\r\n}\r\n\r\n.grid-con-2 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-3 .grid-con-icon {\r\n    background: rgb(242, 94, 67);\r\n}\r\n\r\n.grid-con-3 .grid-num {\r\n    color: rgb(242, 94, 67);\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n\r\n\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.todo-item {\r\n    font-size: 14px;\r\n}\r\n\r\n.todo-item-del {\r\n    text-decoration: line-through;\r\n    color: #999;\r\n}\r\n\r\n.schart {\r\n    width: 100%;\r\n    height: 300px;\r\n}\r\n    .user-info-list > span{\r\n        text-align: right;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components/user/doctor"}]}