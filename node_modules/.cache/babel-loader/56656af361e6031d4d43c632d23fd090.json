{"remainingRequest":"D:\\stc\\vue-manage-system-master\\node_modules\\thread-loader\\dist\\cjs.js!D:\\stc\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js!D:\\stc\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\stc\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\stc\\vue-manage-system-master\\src\\components\\user\\student\\StudentReservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\stc\\vue-manage-system-master\\src\\components\\user\\student\\StudentReservation.vue","mtime":1587951161786},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { fetchData } from \"../../../api\";\nimport axios from 'axios';\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      query: {\n        address: '',\n        name: '',\n        pageIndex: 1,\n        pageSize: 10\n      },\n      tableData: [],\n      multipleSelection: [],\n      delList: [],\n      editVisible: false,\n      pageTotal: 0,\n      form: {},\n      idx: -1,\n      id: -1\n    };\n  },\n  created: function created() {\n    // this.getData();\n    this.list();\n  },\n  methods: {\n    // 获取 easy-mock 的模拟数据\n    getData: function getData() {\n      var _this2 = this;\n\n      fetchData(this.query).then(function (res) {\n        console.log(res);\n        _this2.tableData = res.list;\n        _this2.pageTotal = res.pageTotal || 50;\n        console.log(_this2.tableData);\n      });\n    },\n    list: function list() {\n      var path = '/api/student/reservation/info/' + localStorage.getItem('ms_id');\n\n      var _this = this;\n\n      console.log(path);\n      axios.get(path).then(function (res) {\n        _this.tableData = res.data.data;\n        console.log(res.data.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // 触发搜索按钮\n    handleSearch: function handleSearch() {\n      this.$set(this.query, 'pageIndex', 1);\n      this.getData();\n    },\n    // 删除操作\n    handleDelete: function handleDelete(id, index, row) {\n      var _this = this; // 二次确认删除\n\n\n      this.$confirm('确定要删除吗？', '提示', {\n        type: 'warning'\n      }).then(function () {\n        axios.delete('/api/student/reservation/' + id).then(function (data) {\n          _this.$message.success(\"删除成功\");\n\n          _this.tableData.splice(index, 1);\n        });\n      }).catch(function () {});\n    },\n    // 多选操作\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    delAllSelection: function delAllSelection() {\n      var length = this.multipleSelection.length;\n      var str = '';\n      this.delList = this.delList.concat(this.multipleSelection);\n\n      for (var i = 0; i < length; i++) {\n        str += this.multipleSelection[i].name + ' ';\n      }\n\n      this.$message.error(\"\\u5220\\u9664\\u4E86\".concat(str));\n      this.multipleSelection = [];\n    },\n    // 编辑操作\n    handleEdit: function handleEdit(index, row) {\n      var _this = this;\n\n      _this.form = row;\n      _this.idx = index;\n      _this.editVisible = true;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      this.editVisible = false;\n      this.$message.success(\"\\u4FEE\\u6539\\u7B2C \".concat(this.idx + 1, \" \\u884C\\u6210\\u529F\"));\n      this.$set(this.tableData, this.idx, this.form);\n\n      var _this = this;\n\n      console.log(this.form);\n      axios.put('/api/student/reservation/modify', _this.form).then(function (data) {\n        _this.$message(\"修改成功\");\n      });\n    },\n    // 分页导航\n    handlePageChange: function handlePageChange(val) {\n      this.$set(this.query, 'pageIndex', val);\n      this.getData();\n    }\n  }\n};",null]}