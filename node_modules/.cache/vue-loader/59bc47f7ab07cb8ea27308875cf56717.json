{"remainingRequest":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\patient\\RreservationReply.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\patient\\RreservationReply.vue","mtime":1589085660274},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import axios from 'axios'\n\nexport default {\n    name: 'baseform',\n    data() {\n        return {\n            reservation:{\n                studentId: '',\n                coachId: '',\n                startTime: '',\n                endTime: '',\n                schedule: '0',\n                remarks: '',\n                studentName: '',\n                coachName: '',\n            },\n\n        };\n    },\n    created(){\n        this.getStudent();\n    },\n    methods: {\n        onSubmit() {\n            console.log(this.reservation)\n            let _this = this;\n            this.$message.success('提交成功！');\n            axios.post('/api/patient/reservation',this.reservation).then(function(res) {\n                let data = res.data;\n                _this.$message.success(data.msg);\n                _this.$router.push('/table')\n            })\n        },\n        getStudent() {\n            console.log(localStorage.getItem('ms_id'))\n            let studentId = localStorage.getItem('ms_id')\n            console.log(studentId)\n            let path = '/api/patient/patient/pro/' + studentId;\n            console.log(path)\n            let _this = this;\n            axios.get(path).then(function(res) {\n                let data = res.data.data;\n                _this.reservation.studentId = data.id;\n                _this.reservation.studentName = data.username;\n                _this.reservation.coachId = data.coachId;\n                console.log(_this.reservation.studentName)\n                console.log( _this.reservation.coachId)\n                console.log(\"====================\")\n                _this.getCoach()\n            }).catch(function(error) {\n                console.log(error)\n            })\n        },\n        getCoach() {\n            let _this = this;\n            console.log( \"cccc\" + _this.reservation.coachId)\n            let path = '/api/doctor/doctor/pro/' + _this.reservation.coachId;\n            console.log(path)\n            axios.get(path).then(function(res) {\n                let data = res.data.data;\n                _this.reservation.coachName = data.username;\n                console.log(_this.reservation.coachName)\n                console.log(_this.reservation.studentName)\n            }).catch(function(error) {\n                console.log(error)\n            })\n        }\n    }\n};\n",{"version":3,"sources":["RreservationReply.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RreservationReply.vue","sourceRoot":"src/components/user/patient","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> 预约\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>预约填写</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"form-box\">\r\n                <el-form ref=\"form\" :model=\"reservation\" label-width=\"80px\">\r\n                    <el-form-item label=\"学员\">\r\n                        <el-input\r\n                                v-model=\"reservation.studentName\"\r\n                                :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"教练\">\r\n                        <el-input\r\n                                v-model=\"reservation.coachName\"\r\n                                :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"开始时间\">\r\n                        <el-col :span=\"11\">\r\n                            <el-date-picker\r\n                                type=\"date\"\r\n                                placeholder=\"选择日期\"\r\n                                v-model=\"reservation.startTime\"\r\n                                value-format=\"yyyy-MM-dd\"\r\n                                style=\"width: 100%;\"\r\n                            ></el-date-picker>\r\n                        </el-col>\r\n                        <el-col class=\"line\" :span=\"2\">-</el-col>\r\n                        <el-col :span=\"11\">\r\n                            <el-time-picker\r\n                                placeholder=\"选择时间\"\r\n                                v-model=\"reservation.startTime\"\r\n                                style=\"width: 100%;\"\r\n                            ></el-time-picker>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"结束时间\">\r\n                        <el-col :span=\"11\">\r\n                            <el-date-picker\r\n                                type=\"date\"\r\n                                placeholder=\"选择日期\"\r\n                                v-model=\"reservation.endTime\"\r\n                                value-format=\"yyyy-MM-dd\"\r\n                                style=\"width: 100%;\"\r\n                            ></el-date-picker>\r\n                        </el-col>\r\n                        <el-col class=\"line\" :span=\"2\">-</el-col>\r\n                        <el-col :span=\"11\">\r\n                            <el-time-picker\r\n                                placeholder=\"选择时间\"\r\n                                v-model=\"reservation.endTime\"\r\n                                style=\"width: 100%;\"\r\n                            ></el-time-picker>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"预约备注\">\r\n                        <el-input type=\"textarea\" rows=\"5\" v-model=\"reservation.remarks\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"onSubmit\">点击预约</el-button>\r\n                        <el-button>取消</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n\r\nexport default {\r\n    name: 'baseform',\r\n    data() {\r\n        return {\r\n            reservation:{\r\n                studentId: '',\r\n                coachId: '',\r\n                startTime: '',\r\n                endTime: '',\r\n                schedule: '0',\r\n                remarks: '',\r\n                studentName: '',\r\n                coachName: '',\r\n            },\r\n\r\n        };\r\n    },\r\n    created(){\r\n        this.getStudent();\r\n    },\r\n    methods: {\r\n        onSubmit() {\r\n            console.log(this.reservation)\r\n            let _this = this;\r\n            this.$message.success('提交成功！');\r\n            axios.post('/api/patient/reservation',this.reservation).then(function(res) {\r\n                let data = res.data;\r\n                _this.$message.success(data.msg);\r\n                _this.$router.push('/table')\r\n            })\r\n        },\r\n        getStudent() {\r\n            console.log(localStorage.getItem('ms_id'))\r\n            let studentId = localStorage.getItem('ms_id')\r\n            console.log(studentId)\r\n            let path = '/api/patient/patient/pro/' + studentId;\r\n            console.log(path)\r\n            let _this = this;\r\n            axios.get(path).then(function(res) {\r\n                let data = res.data.data;\r\n                _this.reservation.studentId = data.id;\r\n                _this.reservation.studentName = data.username;\r\n                _this.reservation.coachId = data.coachId;\r\n                console.log(_this.reservation.studentName)\r\n                console.log( _this.reservation.coachId)\r\n                console.log(\"====================\")\r\n                _this.getCoach()\r\n            }).catch(function(error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        getCoach() {\r\n            let _this = this;\r\n            console.log( \"cccc\" + _this.reservation.coachId)\r\n            let path = '/api/doctor/doctor/pro/' + _this.reservation.coachId;\r\n            console.log(path)\r\n            axios.get(path).then(function(res) {\r\n                let data = res.data.data;\r\n                _this.reservation.coachName = data.username;\r\n                console.log(_this.reservation.coachName)\r\n                console.log(_this.reservation.studentName)\r\n            }).catch(function(error) {\r\n                console.log(error)\r\n            })\r\n        }\r\n    }\r\n};\r\n</script>\r\n"]}]}