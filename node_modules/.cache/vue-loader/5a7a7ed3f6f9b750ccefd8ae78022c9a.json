{"remainingRequest":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\admin\\AdminDashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\admin\\AdminDashboard.vue","mtime":1589617365527},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Schart from 'vue-schart';\nimport bus from '../../common/bus';\nimport axios from 'axios'\nexport default {\n    name: 'dashboard',\n    data() {\n        return {\n            name: localStorage.getItem('ms_username'),\n            patientNum: '病人数量',\n            doctorNum: '医生数量',\n            desNum: '病例数',\n            patientResNum: '预约数量',\n            caseNum:'病种数量',\n            carNum: '0',\n            ms_id: '',\n            disease: [],\n            diseaseCount:'',\n            myInfo: {}\n        };\n    },\n    components: {\n        Schart\n    },\n    computed: {\n        role() {\n            return '超级管理员';\n        }\n\n    },\n    created() {\n        this.ms_id = localStorage.getItem('ms_id');\n        this.queryPatientNum();\n        this.queryDoctorNum();\n        this.queryPatientResNum();\n        this.queryCaseNum();\n        this.queryDisease();\n        this.queryDesNum();\n        // this.queryMyInfo();\n        // this.queryCoachAuditNum();\n        // this.queryCoachNum();\n        // this.queryAdminAnnouncement();\n        console.log(\"=======\")\n        console.log(this.disease)\n    },\n    // activated() {\n    //     this.handleListener();\n    // },\n    // deactivated() {\n    //     window.removeEventListener('resize', this.renderChart);\n    //     bus.$off('collapse', this.handleBus);\n    // },\n    methods: {\n        changeDate() {\n            const now = new Date().getTime();\n            this.data.forEach((item, index) => {\n                const date = new Date(now - (6 - index) * 86400000);\n                item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\n            });\n        },\n        editMyInfo(){\n            this.$router.push('/doctorInfo');\n        },\n        queryPatientNum(){\n            let path = '/api/pat/patient/count';\n            let param = \"patientNum\";\n            this.query(path,param);\n        },\n        queryDoctorNum(){\n            let path = '/api/doc/doctor/count';\n            let param = \"doctorNum\";\n            this.query(path,param);\n        },\n        queryPatientResNum(){\n            let path = '/api/pat/reservation/count';\n            let param = \"patientResNum\";\n            this.query(path,param);\n        },\n        queryDisease(){\n            let path = '/api/adm/admin/case/sameCount';\n            let param = \"disease\";\n            this.query(path,param);\n        },\n        queryDesNum(){\n            let path = '/api/cas/case/count';\n            let param = \"desNum\";\n            this.query(path,param);\n        },\n        querySystemMsg(){\n            let path = '/api/patient/evaluation/count/' + this.ms_id;\n            let param = \"systemMsg\";\n            this.query(path,param);\n        },\n        queryCaseNum(){\n            let path = '/api/cas/case/count/';\n            let param = \"caseNum\";\n            this.query(path,param);\n        },\n        queryMyInfo(){\n            let path = '/api/doctor/doctor/pro/' + this.ms_id;\n            let param = \"myInfo\";\n            this.query(path,param);\n        },\n        //封装查询方法\n        query(path,params){\n            let _this = this;\n            axios.get(path).then(function(res) {\n                let data = res.data.data;\n                console.log(params + data)\n                if (params === 'patientNum') {\n                    _this.patientNum = data;\n                }else if (params === 'doctorNum'){\n                    _this.doctorNum = data;\n                }else if (params === 'systemMsg'){\n                    _this.systemMsg = data;\n                } else if (params === 'caseNum'){\n                    _this.caseNum = data;\n                }else if (params === 'patientResNum'){\n                    _this.patientResNum = data;\n                }else if (params === 'myInfo'){\n                    _this.myInfo = data;\n                }else if (params === 'coachAuditNum'){\n                    _this.coachAuditNum = data;\n                }else if (params === 'announcementNum'){\n                    _this.announcementNum = data;\n                }else if (params === 'disease'){\n                    _this.disease = data;\n                }else if (params === 'desNum'){\n                    _this.desNum = data;\n                }\n                params = res.data.data;\n                console.log(res.data.data)\n            }).catch(function(error) {\n                console.log(error)\n            })\n        }\n        // handleListener() {\n        //     bus.$on('collapse', this.handleBus);\n        //     // 调用renderChart方法对图表进行重新渲染\n        //     window.addEventListener('resize', this.renderChart);\n        // },\n        // handleBus(msg) {\n        //     setTimeout(() => {\n        //         this.renderChart();\n        //     }, 200);\n        // },\n        // renderChart() {\n        //     this.$refs.bar.renderChart();\n        //     this.$refs.line.renderChart();\n        // }\n    }\n};\n",{"version":3,"sources":["AdminDashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminDashboard.vue","sourceRoot":"src/components/user/admin","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-card shadow=\"hover\" class=\"mgb20\" >\r\n                    <div class=\"user-info\">\r\n                        <img src=\"../../../assets/img/img.jpg\" class=\"user-avator\" alt />\r\n                        <div class=\"user-info-cont\">\r\n                            <div class=\"user-info-name\">\r\n                                <span>{{name}}</span>\r\n                                <span style=\"padding-left: 20px\"><i class=\"el-icon-edit\" type=\"primary\" @click=\"editMyInfo\" style=\"font-size: 24px;color: #67C23A;\"></i></span>\r\n                            </div>\r\n                            <div style=\"color: #20a0ff\">{{role}}</div>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n                <el-card shadow=\"hover\" style=\"height:252px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>病例详情</span>\r\n                    </div>\r\n                    <div  v-for=\"item in disease\">\r\n                        {{item.diseaseName}} : item.diseaseNum<el-progress :percentage=\"(item.diseaseNum/desNum)*100\" color=\"#42b983\"></el-progress>\r\n\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <el-row :gutter=\"20\" class=\"mgb20\">\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-lx-people grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{doctorNum}}</div>\r\n                                    <div>医生数量</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-lx-notice grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{caseNum}}</div>\r\n                                    <div>病因数量</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-3\">\r\n                                <i class=\"el-icon-phone-outline grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{patientResNum}}</div>\r\n                                    <div>病人预约数</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-truck grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{patientNum}}</div>\r\n                                    <div>普通用户数量</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-plus grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div>添加新模块</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Schart from 'vue-schart';\r\n    import bus from '../../common/bus';\r\n    import axios from 'axios'\r\n    export default {\r\n        name: 'dashboard',\r\n        data() {\r\n            return {\r\n                name: localStorage.getItem('ms_username'),\r\n                patientNum: '病人数量',\r\n                doctorNum: '医生数量',\r\n                desNum: '病例数',\r\n                patientResNum: '预约数量',\r\n                caseNum:'病种数量',\r\n                carNum: '0',\r\n                ms_id: '',\r\n                disease: [],\r\n                diseaseCount:'',\r\n                myInfo: {}\r\n            };\r\n        },\r\n        components: {\r\n            Schart\r\n        },\r\n        computed: {\r\n            role() {\r\n                return '超级管理员';\r\n            }\r\n\r\n        },\r\n        created() {\r\n            this.ms_id = localStorage.getItem('ms_id');\r\n            this.queryPatientNum();\r\n            this.queryDoctorNum();\r\n            this.queryPatientResNum();\r\n            this.queryCaseNum();\r\n            this.queryDisease();\r\n            this.queryDesNum();\r\n            // this.queryMyInfo();\r\n            // this.queryCoachAuditNum();\r\n            // this.queryCoachNum();\r\n            // this.queryAdminAnnouncement();\r\n            console.log(\"=======\")\r\n            console.log(this.disease)\r\n        },\r\n        // activated() {\r\n        //     this.handleListener();\r\n        // },\r\n        // deactivated() {\r\n        //     window.removeEventListener('resize', this.renderChart);\r\n        //     bus.$off('collapse', this.handleBus);\r\n        // },\r\n        methods: {\r\n            changeDate() {\r\n                const now = new Date().getTime();\r\n                this.data.forEach((item, index) => {\r\n                    const date = new Date(now - (6 - index) * 86400000);\r\n                    item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\r\n                });\r\n            },\r\n            editMyInfo(){\r\n                this.$router.push('/doctorInfo');\r\n            },\r\n            queryPatientNum(){\r\n                let path = '/api/pat/patient/count';\r\n                let param = \"patientNum\";\r\n                this.query(path,param);\r\n            },\r\n            queryDoctorNum(){\r\n                let path = '/api/doc/doctor/count';\r\n                let param = \"doctorNum\";\r\n                this.query(path,param);\r\n            },\r\n            queryPatientResNum(){\r\n                let path = '/api/pat/reservation/count';\r\n                let param = \"patientResNum\";\r\n                this.query(path,param);\r\n            },\r\n            queryDisease(){\r\n                let path = '/api/adm/admin/case/sameCount';\r\n                let param = \"disease\";\r\n                this.query(path,param);\r\n            },\r\n            queryDesNum(){\r\n                let path = '/api/cas/case/count';\r\n                let param = \"desNum\";\r\n                this.query(path,param);\r\n            },\r\n            querySystemMsg(){\r\n                let path = '/api/patient/evaluation/count/' + this.ms_id;\r\n                let param = \"systemMsg\";\r\n                this.query(path,param);\r\n            },\r\n            queryCaseNum(){\r\n                let path = '/api/cas/case/count/';\r\n                let param = \"caseNum\";\r\n                this.query(path,param);\r\n            },\r\n            queryMyInfo(){\r\n                let path = '/api/doctor/doctor/pro/' + this.ms_id;\r\n                let param = \"myInfo\";\r\n                this.query(path,param);\r\n            },\r\n            //封装查询方法\r\n            query(path,params){\r\n                let _this = this;\r\n                axios.get(path).then(function(res) {\r\n                    let data = res.data.data;\r\n                    console.log(params + data)\r\n                    if (params === 'patientNum') {\r\n                        _this.patientNum = data;\r\n                    }else if (params === 'doctorNum'){\r\n                        _this.doctorNum = data;\r\n                    }else if (params === 'systemMsg'){\r\n                        _this.systemMsg = data;\r\n                    } else if (params === 'caseNum'){\r\n                        _this.caseNum = data;\r\n                    }else if (params === 'patientResNum'){\r\n                        _this.patientResNum = data;\r\n                    }else if (params === 'myInfo'){\r\n                        _this.myInfo = data;\r\n                    }else if (params === 'coachAuditNum'){\r\n                        _this.coachAuditNum = data;\r\n                    }else if (params === 'announcementNum'){\r\n                        _this.announcementNum = data;\r\n                    }else if (params === 'disease'){\r\n                        _this.disease = data;\r\n                    }else if (params === 'desNum'){\r\n                        _this.desNum = data;\r\n                    }\r\n                    params = res.data.data;\r\n                    console.log(res.data.data)\r\n                }).catch(function(error) {\r\n                    console.log(error)\r\n                })\r\n            }\r\n            // handleListener() {\r\n            //     bus.$on('collapse', this.handleBus);\r\n            //     // 调用renderChart方法对图表进行重新渲染\r\n            //     window.addEventListener('resize', this.renderChart);\r\n            // },\r\n            // handleBus(msg) {\r\n            //     setTimeout(() => {\r\n            //         this.renderChart();\r\n            //     }, 200);\r\n            // },\r\n            // renderChart() {\r\n            //     this.$refs.bar.renderChart();\r\n            //     this.$refs.line.renderChart();\r\n            // }\r\n        }\r\n    };\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .user-info-list {\r\n        padding:10px 0px;\r\n    }\r\n    .el-row {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .grid-content {\r\n        display: flex;\r\n        align-items: center;\r\n        height: 100px;\r\n    }\r\n\r\n    .grid-cont-right {\r\n        flex: 1;\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .grid-num {\r\n        font-size: 30px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .grid-con-icon {\r\n        font-size: 50px;\r\n        width: 100px;\r\n        height: 100px;\r\n        text-align: center;\r\n        line-height: 100px;\r\n        color: #fff;\r\n    }\r\n\r\n    .grid-con-1 .grid-con-icon {\r\n        background: rgb(45, 140, 240);\r\n    }\r\n\r\n    .grid-con-1 .grid-num {\r\n        color: rgb(45, 140, 240);\r\n    }\r\n\r\n    .grid-con-2 .grid-con-icon {\r\n        background: rgb(100, 213, 114);\r\n    }\r\n\r\n    .grid-con-2 .grid-num {\r\n        color: rgb(45, 140, 240);\r\n    }\r\n\r\n    .grid-con-3 .grid-con-icon {\r\n        background: rgb(242, 94, 67);\r\n    }\r\n\r\n    .grid-con-3 .grid-num {\r\n        color: rgb(242, 94, 67);\r\n    }\r\n\r\n    .user-info {\r\n        display: flex;\r\n        align-items: center;\r\n        padding-bottom: 20px;\r\n        border-bottom: 2px solid #ccc;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .user-avator {\r\n        width: 120px;\r\n        height: 120px;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .user-info-cont {\r\n        padding-left: 50px;\r\n        flex: 1;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .user-info-cont div:first-child {\r\n        font-size: 30px;\r\n        color: #222;\r\n    }\r\n\r\n    .user-info-list {\r\n        font-size: 14px;\r\n        color: #999;\r\n        line-height: 25px;\r\n    }\r\n\r\n\r\n\r\n    .mgb20 {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .todo-item {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .todo-item-del {\r\n        text-decoration: line-through;\r\n        color: #999;\r\n    }\r\n\r\n    .schart {\r\n        width: 100%;\r\n        height: 300px;\r\n    }\r\n    .user-info-list > span{\r\n        text-align: right;\r\n    }\r\n</style>\r\n"]}]}