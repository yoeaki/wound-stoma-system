{"remainingRequest":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\patient\\ReservationReply.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\woundStoma\\vue-manage-system-master\\src\\components\\user\\patient\\ReservationReply.vue","mtime":1589207538857},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\woundStoma\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import axios from 'axios'\n\nexport default {\n    name: 'baseform',\n    data() {\n        return {\n            reservation:{\n                patientId: '',\n                doctorId: '',\n                reservationTime: '',\n                remarks: '',\n                schedule: '',\n            },\n            doctors:[\n\n            ],\n            diseases:[\n                {\n                    id: '1',\n                    diseaseName: '头疼'\n                },\n                {\n                    id: '2',\n                    diseaseName: '肚子疼'\n                }\n            ],\n            doctorValue: '',\n            diseaseName: '',\n            //fileList: [{name: 'food.jpeg', url: 'http://127.0.0.1:8086/lala.jpg'}, {name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'}]\n\n        };\n    },\n    created(){\n        // this.getStudent();\n        this.getDoctor();\n    },\n    methods: {\n        // submit() {\n        //     formData.append('file', document.querySelector('input[type=file]').files[0]) // 'file' 这个名字要和后台获取文件的名字一样;\n        //     formData.append('user',this.name)\n        //     //'userfile'是formData这个对象的键名\n        //     axios({\n        //         url: '/api/cas/case/upload',   //****: 你的ip地址\n        //         data: formData,\n        //         method: 'post',\n        //         headers: {\n        //             'Content-Type': 'multipart/form-data',\n        //             // 'Access-Control-Allow-Origin': 'http://127.0.0.1:8080'\n        //             //这里是为了解决跨域问题，但是博主并没有用这种方式解决。后面会给出解决方案\n        //         }\n        //     }).then((res) => {\n        //         console.log(res.data);\n        //     }) // 发送请求\n        // },\n        onSubmit() {\n            console.log(this.reservation)\n            let _this = this;\n            this.$message.success('提交成功！');\n            console.log(\"====================\")\n            _this.reservation.doctorId = _this.doctorValue;\n            _this.reservation.patientId = localStorage.getItem(\"ms_id\");\n            _this.reservation.schedule = 0;\n            console.log(this.reservation)\n            axios.post('/api/pat/reservation',this.reservation).then(function(res) {\n                let data = res.data;\n                _this.$message.success(data.msg);\n                _this.$router.push('/table')\n            })\n        },\n        getDoctor() {\n            let path = '/api/doc/doctor/list';\n            console.log(path)\n            let _this = this;\n            axios.get(path).then(function(res) {\n                let data = res.data.data;\n                _this.doctors = data;\n            }).catch(function(error) {\n                console.log(error)\n            })\n        },\n        // getCoach() {\n        //     let _this = this;\n        //     console.log( \"cccc\" + _this.reservation.coachId)\n        //     let path = '/api/doctor/doctor/pro/' + _this.reservation.coachId;\n        //     console.log(path)\n        //     axios.get(path).then(function(res) {\n        //         let data = res.data.data;\n        //         _this.reservation.coachName = data.username;\n        //         console.log(_this.reservation.coachName)\n        //         console.log(_this.reservation.studentName)\n        //     }).catch(function(error) {\n        //         console.log(error)\n        //     })\n        // }\n    }\n};\n",{"version":3,"sources":["ReservationReply.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReservationReply.vue","sourceRoot":"src/components/user/patient","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> 预约\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>预约填写</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"form-box\">\r\n                <el-form ref=\"form\" :model=\"reservation\" label-width=\"80px\">\r\n                    <el-form-item label=\"预约医生\">\r\n                        <el-select v-model=\"doctorValue\" placeholder=\"请选择\">\r\n                            <el-option\r\n                                    v-for=\"item in doctors\"\r\n                                    :key=\"item.realName\"\r\n                                    :label=\"item.realName\"\r\n                                    :value=\"item.id\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <!--<el-form-item label=\"预约病因\">-->\r\n                        <!--<el-select v-model=\"diseaseName\" placeholder=\"请选择\">-->\r\n                            <!--<el-option-->\r\n                                    <!--v-for=\"item in diseases\"-->\r\n                                    <!--:key=\"item.value\"-->\r\n                                    <!--:label=\"item.diseaseName\"-->\r\n                                    <!--:value=\"item.id\">-->\r\n                            <!--</el-option>-->\r\n                        <!--</el-select>-->\r\n                    <!--</el-form-item>-->\r\n\r\n                    <el-form-item label=\"预约时间\">\r\n                        <el-col :span=\"11\">\r\n                            <el-date-picker\r\n                                type=\"date\"\r\n                                placeholder=\"选择日期\"\r\n                                v-model=\"reservation.reservationTime\"\r\n                                value-format=\"yyyy-MM-dd\"\r\n                                style=\"width: 100%;\"\r\n                            ></el-date-picker>\r\n                        </el-col>\r\n                        <el-col class=\"line\" :span=\"2\">-</el-col>\r\n                        <el-col :span=\"11\">\r\n                            <el-time-picker\r\n                                placeholder=\"选择时间\"\r\n                                v-model=\"reservation.startTime\"\r\n                                style=\"width: 100%;\"\r\n                            ></el-time-picker>\r\n                        </el-col>\r\n                    </el-form-item>\r\n\r\n                    <!--<el-form-item label=\"图片上传\">\r\n                        <el-upload\r\n                                class=\"upload-demo\"\r\n                                action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n                                :on-preview=\"handlePreview\"\r\n                                :on-remove=\"handleRemove\"\r\n                                :file-list=\"fileList\"\r\n                                list-type=\"picture\">\r\n                            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                        </el-upload>\r\n                    </el-form-item>-->\r\n                    <el-form-item label=\"预约备注\">\r\n                        <el-input type=\"textarea\" rows=\"5\" v-model=\"reservation.remarks\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"onSubmit\">点击预约</el-button>\r\n                        <el-button>取消</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n\r\nexport default {\r\n    name: 'baseform',\r\n    data() {\r\n        return {\r\n            reservation:{\r\n                patientId: '',\r\n                doctorId: '',\r\n                reservationTime: '',\r\n                remarks: '',\r\n                schedule: '',\r\n            },\r\n            doctors:[\r\n\r\n            ],\r\n            diseases:[\r\n                {\r\n                    id: '1',\r\n                    diseaseName: '头疼'\r\n                },\r\n                {\r\n                    id: '2',\r\n                    diseaseName: '肚子疼'\r\n                }\r\n            ],\r\n            doctorValue: '',\r\n            diseaseName: '',\r\n            //fileList: [{name: 'food.jpeg', url: 'http://127.0.0.1:8086/lala.jpg'}, {name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'}]\r\n\r\n        };\r\n    },\r\n    created(){\r\n        // this.getStudent();\r\n        this.getDoctor();\r\n    },\r\n    methods: {\r\n        // submit() {\r\n        //     formData.append('file', document.querySelector('input[type=file]').files[0]) // 'file' 这个名字要和后台获取文件的名字一样;\r\n        //     formData.append('user',this.name)\r\n        //     //'userfile'是formData这个对象的键名\r\n        //     axios({\r\n        //         url: '/api/cas/case/upload',   //****: 你的ip地址\r\n        //         data: formData,\r\n        //         method: 'post',\r\n        //         headers: {\r\n        //             'Content-Type': 'multipart/form-data',\r\n        //             // 'Access-Control-Allow-Origin': 'http://127.0.0.1:8080'\r\n        //             //这里是为了解决跨域问题，但是博主并没有用这种方式解决。后面会给出解决方案\r\n        //         }\r\n        //     }).then((res) => {\r\n        //         console.log(res.data);\r\n        //     }) // 发送请求\r\n        // },\r\n        onSubmit() {\r\n            console.log(this.reservation)\r\n            let _this = this;\r\n            this.$message.success('提交成功！');\r\n            console.log(\"====================\")\r\n            _this.reservation.doctorId = _this.doctorValue;\r\n            _this.reservation.patientId = localStorage.getItem(\"ms_id\");\r\n            _this.reservation.schedule = 0;\r\n            console.log(this.reservation)\r\n            axios.post('/api/pat/reservation',this.reservation).then(function(res) {\r\n                let data = res.data;\r\n                _this.$message.success(data.msg);\r\n                _this.$router.push('/table')\r\n            })\r\n        },\r\n        getDoctor() {\r\n            let path = '/api/doc/doctor/list';\r\n            console.log(path)\r\n            let _this = this;\r\n            axios.get(path).then(function(res) {\r\n                let data = res.data.data;\r\n                _this.doctors = data;\r\n            }).catch(function(error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        // getCoach() {\r\n        //     let _this = this;\r\n        //     console.log( \"cccc\" + _this.reservation.coachId)\r\n        //     let path = '/api/doctor/doctor/pro/' + _this.reservation.coachId;\r\n        //     console.log(path)\r\n        //     axios.get(path).then(function(res) {\r\n        //         let data = res.data.data;\r\n        //         _this.reservation.coachName = data.username;\r\n        //         console.log(_this.reservation.coachName)\r\n        //         console.log(_this.reservation.studentName)\r\n        //     }).catch(function(error) {\r\n        //         console.log(error)\r\n        //     })\r\n        // }\r\n    }\r\n};\r\n</script>\r\n"]}]}