{"remainingRequest":"D:\\stc\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\stc\\vue-manage-system-master\\src\\components\\user\\student\\RreservationReply.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\stc\\vue-manage-system-master\\src\\components\\user\\student\\RreservationReply.vue","mtime":1587883278629},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\stc\\vue-manage-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import axios from 'axios'\n\nexport default {\n    name: 'baseform',\n    data() {\n        return {\n            reservation:{\n                studentId: '',\n                coachId: '',\n                startTime: '',\n                endTime: '',\n                schedule: '0',\n                remarks: '',\n                studentName: '',\n                coachName: '',\n            },\n\n        };\n    },\n    created(){\n        this.getStudent();\n    },\n    methods: {\n        onSubmit() {\n            console.log(this.reservation)\n            let _this = this;\n            this.$message.success('提交成功！');\n            axios.post('/api/student/reservation',this.reservation).then(function(res) {\n                let data = res.data;\n                _this.$message.success(data.msg);\n                _this.$router.push('/table')\n            })\n        },\n        getStudent() {\n            console.log(localStorage.getItem('ms_id'))\n            let studentId = localStorage.getItem('ms_id')\n            console.log(studentId)\n            let path = '/api/student/student/pro/' + studentId;\n            console.log(path)\n            let _this = this;\n            axios.get(path).then(function(res) {\n                let data = res.data.data;\n                _this.reservation.studentId = data.id;\n                _this.reservation.studentName = data.username;\n                _this.reservation.coachId = data.coachId;\n                console.log(_this.reservation.studentName)\n                console.log( _this.reservation.coachId)\n                console.log(\"====================\")\n                _this.getCoach()\n            }).catch(function(error) {\n                console.log(error)\n            })\n        },\n        getCoach() {\n            let _this = this;\n            console.log( \"cccc\" + _this.reservation.coachId)\n            let path = '/api/coach/coach/pro/' + _this.reservation.coachId;\n            console.log(path)\n            axios.get(path).then(function(res) {\n                let data = res.data.data;\n                _this.reservation.coachName = data.username;\n                console.log(_this.reservation.coachName)\n                console.log(_this.reservation.studentName)\n            }).catch(function(error) {\n                console.log(error)\n            })\n        }\n    }\n};\n",null]}